{
  "milestones": [
    {"title": "M0 – Foundation", "description": "Scaffold, basic API, CI smoke"},
    {"title": "Sprint 1 – Database Schema", "description": "DB selection, ERD, migrations, constraints, seed"},
    {"title": "Sprint 2 – Frontend Foundations", "description": "Vue/Tailwind scaffold, auth guards, core views"},
    {"title": "Sprint 3 – Backend Logic & Workflows", "description": "Domain models, CRUD, workflow engine, RBAC"},
    {"title": "Sprint 4 – Search & Reporting", "description": "Indexing, filters, KPIs, performance"},
    {"title": "Sprint 5 – SSO & Notifications", "description": "Microsoft 365 SSO and email notifications"},
    {"title": "Sprint 6 – Hardening & Release", "description": "Security, perf, monitoring, runbooks"}
  ],
  "issues": [
    {
      "title": "Scaffold repository and Makefile",
      "body": "Initialize repo structure, Makefile targets (setup/run/test/lint/format/build), and starter modules per AGENTS.md.",
      "labels": ["task", "M0"],
      "milestone": "M0 – Foundation"
    },
    {
      "title": "Basic API: /health and /validate endpoints",
      "body": "Expose health check and document ID validation using default regex; add root index page.",
      "labels": ["enhancement", "M0"],
      "milestone": "M0 – Foundation"
    },
    {
      "title": "Set up CI with lint and tests",
      "body": "Add GitHub Actions for Python lint (Ruff/Black) and pytest; ensure green on main.",
      "labels": ["task", "ci", "M0"],
      "milestone": "M0 – Foundation"
    },

    {"title": "Select database (Postgres) and doc storage (S3-compatible)", "body": "Decide DB and file storage; document tradeoffs.", "labels": ["database"], "milestone": "Sprint 1 – Database Schema"},
    {"title": "Define ERD and migration plan", "body": "Design tables: documents, audit_logs, code_lists, users/roles; versioning fields.", "labels": ["database", "design"], "milestone": "Sprint 1 – Database Schema"},
    {"title": "Implement migrations and runner", "body": "Add migrations/ directory and CLI; create initial schema.", "labels": ["database", "task"], "milestone": "Sprint 1 – Database Schema"},
    {"title": "Unique constraints and indexes", "body": "Enforce unique document ID; indexes for search filters.", "labels": ["database"], "milestone": "Sprint 1 – Database Schema"},
    {"title": "Seed data for dev", "body": "Seed code lists and a few documents for local testing.", "labels": ["task"], "milestone": "Sprint 1 – Database Schema"},

    {"title": "Frontend: init Vue + Tailwind app", "body": "Scaffold frontend project and CI.", "labels": ["frontend"], "milestone": "Sprint 2 – Frontend Foundations"},
    {"title": "Frontend: auth and route guards", "body": "Integrate auth and protect routes per role (stubs until backend).", "labels": ["frontend", "security"], "milestone": "Sprint 2 – Frontend Foundations"},
    {"title": "Frontend: search page with filters", "body": "Query UI, filters, pagination; mock API adapters.", "labels": ["frontend", "search"], "milestone": "Sprint 2 – Frontend Foundations"},
    {"title": "Frontend: upload form with autosuggest", "body": "Validate ID/metadata; autosuggest codes; mock adapters.", "labels": ["frontend", "files"], "milestone": "Sprint 2 – Frontend Foundations"},
    {"title": "Frontend: document view", "body": "Embedded PDF, metadata, version history (mock).", "labels": ["frontend"], "milestone": "Sprint 2 – Frontend Foundations"},
    {"title": "Frontend: review queue", "body": "Approve/reject UI with comments (mock).", "labels": ["frontend"], "milestone": "Sprint 2 – Frontend Foundations"},
    {"title": "Frontend: reports UI", "body": "KPIs list and export actions (mock).", "labels": ["frontend", "reporting"], "milestone": "Sprint 2 – Frontend Foundations"},

    {"title": "Domain models: Document", "body": "Fields, invariants, factory methods; version semantics.", "labels": ["enhancement"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Domain models: AuditLog (append-only)", "body": "Append-only design; helpers for writing events.", "labels": ["enhancement"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Domain models: CodeList CRUD", "body": "Company, Subsidiary, Department, Type code lists.", "labels": ["enhancement"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Validation library", "body": "Regex for IDs, mandatory metadata, DTO schemas.", "labels": ["test"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Documents API (CRUD)", "body": "Create/read/update/list with filters & pagination.", "labels": ["api"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "File storage adapters", "body": "Local (dev) and S3-compatible (prod) implementations.", "labels": ["files"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Upload API (multipart)", "body": "Validate size/type; compute checksum; virus-scan stub.", "labels": ["api", "files"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Publish PDF pipeline", "body": "Convert to PDF and store in public area; set ACLs.", "labels": ["files"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Restrict source access", "body": "Signed URLs / private bucket; enforce RBAC.", "labels": ["security", "files"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Versioning rules and latest pointer", "body": "Major/minor increments; mark latest; block obsolete.", "labels": ["enhancement"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Auto-archive obsolete versions", "body": "Move prior versions to archive on approval.", "labels": ["enhancement"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Define workflow state machine", "body": "States, transitions, guards; major/minor revision rules.", "labels": ["enhancement"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Implement workflow engine", "body": "Functions for transitions; record to audit logs.", "labels": ["enhancement"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "RBAC role definitions and matrix", "body": "End User, Owner, Controller, Admin, QMS; permission map.", "labels": ["security", "design"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Auth middleware & guards", "body": "Enforce RBAC per endpoint; deny by default.", "labels": ["security"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Workflow endpoints", "body": "submit, approve, reject, archive; version bump.", "labels": ["api"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Authorization unit tests", "body": "Test role gates and negative paths.", "labels": ["test"], "milestone": "Sprint 3 – Backend Logic & Workflows"},

    {"title": "Choose search approach", "body": "DB FTS or external engine; document choice.", "labels": ["search", "design"], "milestone": "Sprint 4 – Search & Reporting"},
    {"title": "Build search index", "body": "Index metadata/keywords; update on changes.", "labels": ["search"], "milestone": "Sprint 4 – Search & Reporting"},
    {"title": "Search API (filters + pagination)", "body": "Company, Subsidiary, Department, Type, Status; sort.", "labels": ["search", "api"], "milestone": "Sprint 4 – Search & Reporting"},
    {"title": "Performance harness for search", "body": "Seed dataset and benchmark P95 < 2s.", "labels": ["performance"], "milestone": "Sprint 4 – Search & Reporting"},
    {"title": "KPIs & reports endpoints", "body": "Pending reviews, overdue revisions; export PDF/Excel.", "labels": ["reporting"], "milestone": "Sprint 4 – Search & Reporting"},
    {"title": "Cache layer for queries", "body": "Basic caching and invalidation strategy.", "labels": ["performance"], "milestone": "Sprint 4 – Search & Reporting"},

    {"title": "SMTP configuration and templates", "body": "Set up email transport; template partials and themes.", "labels": ["notifications"], "milestone": "Sprint 5 – SSO & Notifications"},
    {"title": "Review reminder scheduler", "body": "Periodic reminders for pending reviews/overdue items.", "labels": ["notifications"], "milestone": "Sprint 5 – SSO & Notifications"},
    {"title": "Approval/expiry notifications", "body": "Email on approvals and upcoming expiries; throttle.", "labels": ["notifications"], "milestone": "Sprint 5 – SSO & Notifications"},
    {"title": "Microsoft 365 SSO integration", "body": "OIDC flow; map groups/claims to roles; docs.", "labels": ["security", "sso"], "milestone": "Sprint 5 – SSO & Notifications"},
    {"title": "Login/logout endpoints & session mgmt", "body": "Implement auth routes and session security.", "labels": ["security"], "milestone": "Sprint 5 – SSO & Notifications"},

    {"title": "API input validation & error model", "body": "Centralize validation and consistent error responses.", "labels": ["security"], "milestone": "Sprint 6 – Hardening & Release"},
    {"title": "Security headers and CORS", "body": "Harden responses and set proper CORS policy.", "labels": ["security"], "milestone": "Sprint 6 – Hardening & Release"},
    {"title": "Rate limiting & basic abuse protections", "body": "Protect sensitive endpoints and avoid abuse.", "labels": ["security", "performance"], "milestone": "Sprint 6 – Hardening & Release"},
    {"title": "Structured logging and correlation IDs", "body": "Add request IDs and structured logs.", "labels": ["ops"], "milestone": "Sprint 6 – Hardening & Release"},
    {"title": "Metrics & dashboards", "body": "Latency, error rates, workflow durations, indexing times.", "labels": ["ops", "performance"], "milestone": "Sprint 6 – Hardening & Release"},
    {"title": "Alerts for SLOs", "body": "Configure alerting for critical SLO breaches.", "labels": ["ops"], "milestone": "Sprint 6 – Hardening & Release"},
    {"title": "Backups and restore runbook", "body": "Automate backups and document restore process.", "labels": ["ops"], "milestone": "Sprint 6 – Hardening & Release"},
    {"title": "Load test and tuning", "body": "Benchmark and optimize bottlenecks to hit SLAs.", "labels": ["performance"], "milestone": "Sprint 6 – Hardening & Release"}

    ,
    {"title": "Dockerize backend and frontend", "body": "Dockerfiles, docker-compose for dev and CI.", "labels": ["ops"], "milestone": "Sprint 1 – Database Schema"},

    {"title": "API docs (OpenAPI)", "body": "Generate and publish OpenAPI spec; include examples.", "labels": ["docs", "api"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Admin documentation", "body": "RBAC roles, code lists management, backups, and restore.", "labels": ["docs"], "milestone": "Sprint 6 – Hardening & Release"},
    {"title": "User guide", "body": "Search, view, upload, review workflows.", "labels": ["docs"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Integration tests with DB and storage", "body": "CI job using services for Postgres and MinIO.", "labels": ["test", "ci"], "milestone": "Sprint 3 – Backend Logic & Workflows"},
    {"title": "Coverage reports and badge", "body": "Upload coverage to artifact; add badge to README.", "labels": ["ci", "test"], "milestone": "M0 – Foundation"}
  ]
}
